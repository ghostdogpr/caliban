(window.webpackJsonp=window.webpackJsonp||[]).push([[41],{321:function(t,a,e){"use strict";e.r(a);var s=e(14),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"faq"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#faq"}},[t._v("#")]),t._v(" FAQ")]),t._v(" "),a("h3",{attrs:{id:"i-don-t-know-where-to-start-ðŸ˜¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-don-t-know-where-to-start-ðŸ˜¥"}},[t._v("#")]),t._v(" I don't know where to start ðŸ˜¥")]),t._v(" "),a("p",[t._v("No worries! Head to the "),a("a",{attrs:{href:"https://ghostdogpr.github.io/caliban/resources/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resources"),a("OutboundLink")],1),t._v(" page to find a few introductory videos and blog posts, in particular this "),a("a",{attrs:{href:"https://blog.pierre-ricadat.com/a-beginners-guide-to-graphql-in-scala",target:"_blank",rel:"noopener noreferrer"}},[t._v("Beginner's Guide to GraphQL in Scala"),a("OutboundLink")],1),t._v(". Once you're ready for more details, check the "),a("a",{attrs:{href:"https://ghostdogpr.github.io/caliban/docs/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Documentation"),a("OutboundLink")],1),t._v(". If you prefer looking at some code first, check "),a("a",{attrs:{href:"https://ghostdogpr.github.io/caliban/docs/examples.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("this list of examples"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("p",[t._v("If you're still lost, just come to the "),a("a",{attrs:{href:"https://discord.gg/EYpumuv",target:"_blank",rel:"noopener noreferrer"}},[t._v("Discord channel"),a("OutboundLink")],1),t._v("!")]),t._v(" "),a("h3",{attrs:{id:"i-m-getting-a-compilation-error-saying-a-schema-is-missing-but-i-don-t-know-which-one"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-m-getting-a-compilation-error-saying-a-schema-is-missing-but-i-don-t-know-which-one"}},[t._v("#")]),t._v(" I'm getting a compilation error saying a "),a("code",[t._v("Schema")]),t._v(" is missing, but I don't know which one.")]),t._v(" "),a("p",[t._v("Call directly "),a("code",[t._v("Schema.gen[YourType]")]),t._v(" or just "),a("code",[t._v("gen[YourType]")]),t._v(" if you extend "),a("code",[t._v("GenericSchema")]),t._v(". The error should be more detailed.\nIt is also recommended to use semi-auto derivation instead of auto derivation, as it will tell you more clearly which type is missing a schema.")]),t._v(" "),a("h3",{attrs:{id:"i-want-to-use-caliban-but-i-use-cats-effect-monix-instead-of-zio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-want-to-use-caliban-but-i-use-cats-effect-monix-instead-of-zio"}},[t._v("#")]),t._v(" I want to use Caliban, but I use Cats Effect / Monix instead of ZIO.")]),t._v(" "),a("p",[t._v('That\'s not a problem! Caliban has interop modules that "hide" the ZIO details and expose Cats Effect or Monix types instead. Check the '),a("a",{attrs:{href:"https://ghostdogpr.github.io/caliban/docs/interop.html#cats-effect",target:"_blank",rel:"noopener noreferrer"}},[t._v("interop docs"),a("OutboundLink")],1),t._v(" for more details.")]),t._v(" "),a("h3",{attrs:{id:"my-query-fails-with-an-effect-failure-error-how-can-i-get-more-details"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#my-query-fails-with-an-effect-failure-error-how-can-i-get-more-details"}},[t._v("#")]),t._v(' My query fails with an "Effect failure" error. How can I get more details?')]),t._v(" "),a("p",[t._v("When an error happens in one of the resolvers, Caliban doesn't expose the inner exception to the client by default (this might be unsafe to do so), but you can easily work around this by several ways:")]),t._v(" "),a("ol",[a("li",[t._v("If you fail with a "),a("code",[t._v("CalibanError.ExecutionError")]),t._v(", it won't be wrapped by Caliban so the original message will be displayed")]),t._v(" "),a("li",[t._v("Using the wrapper "),a("code",[t._v("@@ printErrors")]),t._v(" will print the full error to the console")]),t._v(" "),a("li",[t._v("Using "),a("code",[t._v("mapError")]),t._v(" on your interpreter lets you unwrap the "),a("code",[t._v("CalibanError")]),t._v(" and return your inner exception instead")])]),t._v(" "),a("h3",{attrs:{id:"i-have-more-than-22-fields-in-my-query-i-can-t-create-a-case-class-for-it"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-have-more-than-22-fields-in-my-query-i-can-t-create-a-case-class-for-it"}},[t._v("#")]),t._v(" I have more than 22 fields in my Query, I can't create a case class for it.")]),t._v(" "),a("p",[t._v("Instead of one huge case class with all your fields, you can create smaller case classes and combine "),a("code",[t._v("GraphQL")]),t._v(" objects using "),a("code",[t._v("|+|")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" api1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" graphQL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" api2 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" graphQL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" api "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" api1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" api2\n")])])]),a("h3",{attrs:{id:"how-to-deal-with-authentication-authorization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-deal-with-authentication-authorization"}},[t._v("#")]),t._v(" How to deal with authentication/authorization?")]),t._v(" "),a("p",[t._v("This is typically handled with the help of ZIO environment. You can make your field require an "),a("code",[t._v("Auth")]),t._v(" service by returning a "),a("code",[t._v("ZIO[Auth, E, A]")]),t._v(". Then, in your resolver, access the "),a("code",[t._v("Auth")]),t._v(" service to check you have the appropriate permissions. You can inject the authentication information using a middleware in your HTTP server library. Check "),a("a",{attrs:{href:"https://github.com/search?q=repo%3Aghostdogpr%2Fcaliban+AuthExampleApp+language%3AScala&type=code&l=Scala",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(" for a list of examples with different adapters.")]),t._v(" "),a("h3",{attrs:{id:"i-have-2-case-classes-with-the-same-name-different-packages-how-to-avoid-conflicts"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-have-2-case-classes-with-the-same-name-different-packages-how-to-avoid-conflicts"}},[t._v("#")]),t._v(" I have 2 case classes with the same name (different packages). How to avoid conflicts?")]),t._v(" "),a("p",[t._v("You can use the annotation "),a("code",[t._v("@GQLName")]),t._v(" to give another name to any type or field.")]),t._v(" "),a("h3",{attrs:{id:"the-auto-generated-schema-shows-a-field-is-nullable-but-i-want-it-non-nullable-instead"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#the-auto-generated-schema-shows-a-field-is-nullable-but-i-want-it-non-nullable-instead"}},[t._v("#")]),t._v(" The auto-generated schema shows a field is nullable, but I want it non-nullable instead.")]),t._v(" "),a("p",[t._v("A GraphQL field is marked as nullable if the Scala field returns an "),a("code",[t._v("Option")]),t._v(" or an effect that can fail. Change your effect to return "),a("code",[t._v("UIO")]),t._v(" if you want the field to be non-nullable, and use "),a("code",[t._v("orDie")]),t._v(" if you want to fail the whole query in case of error instead of returning null.")]),t._v(" "),a("h3",{attrs:{id:"can-i-use-a-union-as-input"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#can-i-use-a-union-as-input"}},[t._v("#")]),t._v(" Can I use a union as input?")]),t._v(" "),a("p",[t._v("Unfortunately, it is not supported by the GraphQL spec. See "),a("a",{attrs:{href:"https://github.com/graphql/graphql-spec/issues/488",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/graphql/graphql-spec/issues/488"),a("OutboundLink")],1),t._v(" for discussions. An alternative can be to define your own custom scalar.")]),t._v(" "),a("h3",{attrs:{id:"how-to-deal-with-recursive-types"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-to-deal-with-recursive-types"}},[t._v("#")]),t._v(" How to deal with recursive types?")]),t._v(" "),a("p",[t._v("Recursive types can be a little tricky. This is not a silver bullet but usually the trick is to add an "),a("code",[t._v("implicit lazy val")]),t._v(" instance of "),a("code",[t._v("Schema")]),t._v(" for the type that is recursive. See "),a("a",{attrs:{href:"https://github.com/ghostdogpr/caliban/blob/master/examples/src/main/scala/example/optimizations/NaiveTest.scala#L82",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),a("OutboundLink")],1),t._v(" for an example.")]),t._v(" "),a("h3",{attrs:{id:"i-m-getting-a-method-too-large-compiler-error"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-m-getting-a-method-too-large-compiler-error"}},[t._v("#")]),t._v(' I\'m getting a "Method too large" compiler error.')]),t._v(" "),a("p",[t._v("When you create a GraphQL API and use auto schema derivation, Caliban generates a schema for every type, everywhere it's used. If you have a lot of types, the generated code might be too large. The workaround is to use semi-auto derivation instead and define a "),a("code",[t._v("Schema")]),t._v(" for each of your case classes and sealed traits:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implicit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" schemaMyType"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" MyType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gen\n")])])]),a("p",[t._v("That way, the schema for this type will be extracted to a single method and defined only once.")]),t._v(" "),a("h3",{attrs:{id:"how-can-i-define-a-schema-for-a-java-enum"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#how-can-i-define-a-schema-for-a-java-enum"}},[t._v("#")]),t._v(" How can I define a "),a("code",[t._v("Schema")]),t._v(" for a Java enum?")]),t._v(" "),a("p",[t._v("Here's an example for Java "),a("code",[t._v("DayOfWeek")]),t._v(":")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implicit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" dayOfWeekSchema "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" DayOfWeek"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" toType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("isInput"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Boolean")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" __Type "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    Types"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("makeEnum"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      Some"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"DayOfWeek"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      None"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      DayOfWeek"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("values"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toList"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("map"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("=>")]),t._v(" __EnumValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("v"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" None"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" None"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      None\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("override")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" resolve"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" DayOfWeek"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Step"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" PureStep"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("StringValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"i-don-t-want-to-use-throwable-as-my-error-type"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i-don-t-want-to-use-throwable-as-my-error-type"}},[t._v("#")]),t._v(" I don't want to use "),a("code",[t._v("Throwable")]),t._v(" as my error type")]),t._v(" "),a("p",[t._v("Caliban provides "),a("code",[t._v("Schema")]),t._v(" instances for "),a("code",[t._v("ZIO")]),t._v(", "),a("code",[t._v("ZQuery")]),t._v(" and "),a("code",[t._v("ZStream")]),t._v(" but with the condition that the error type is a "),a("code",[t._v("Throwable")]),t._v(".\nThat is because the error is eventually wrapped inside Caliban "),a("code",[t._v("ExecutionError")]),t._v(" and we need to know what it is.\nHowever, you can easily define a custom "),a("code",[t._v("Schema")]),t._v(" without this constraint, as long as you provide a function from your error type to "),a("code",[t._v("ExecutionError")]),t._v(".")]),t._v(" "),a("p",[t._v("For example, if your error type is "),a("code",[t._v("Int")]),t._v(", you can use "),a("code",[t._v("Schema.customErrorEffectSchema")]),t._v(" as follows:")]),t._v(" "),a("div",{staticClass:"language-scala extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implicit")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("def")]),t._v(" customEffectSchema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("implicit")]),t._v(" s"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" IO"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("customErrorEffectSchema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("code"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Int")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("=>")]),t._v(" ExecutionError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token id function"}},[t._v("s")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Error code ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("$")]),a("span",{pre:!0,attrs:{class:"token expression"}},[t._v("code")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("p",[t._v("With this implicit in scope, Caliban will know how to handle any "),a("code",[t._v("IO[Int, A]")]),t._v(" effects.\nCaliban will automatically fill the error path and the error location inside "),a("code",[t._v("ExecutionError")]),t._v(" if an error happens during the query execution.")]),t._v(" "),a("h3",{attrs:{id:"my-interface-is-missing-from-the-schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#my-interface-is-missing-from-the-schema"}},[t._v("#")]),t._v(" My interface is missing from the schema")]),t._v(" "),a("p",[t._v("If you have an interface that is not directly returned by any field, it will be missing from the schema. This is a constraint from the way the typeclass derivation works. A workaround is to use "),a("code",[t._v("withAdditionalTypes")]),t._v(" on your "),a("code",[t._v("GraphQL")]),t._v(" object to explicitly add the interface. See the following example:")]),t._v(" "),a("div",{staticClass:"language-scala mdoc:silent extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("caliban"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("_\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("caliban"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Schema\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("caliban"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Annotations"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("caliban"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("auto"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("_\n\n"),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[t._v("@GQLInterface")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("sealed")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("trait")]),t._v(" Interface\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" Interface\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("s"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" Interface\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("case")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" Query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" b"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" interfaceType "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Schema"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gen"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[t._v("Any")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Interface"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toType_"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" api "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" graphQL"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("RootResolver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("A"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" B"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("withAdditionalTypes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("List"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("interfaceType"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),a("h3",{attrs:{id:"can-i-check-that-a-graphql-query-is-valid-at-compile-time"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#can-i-check-that-a-graphql-query-is-valid-at-compile-time"}},[t._v("#")]),t._v(" Can I check that a GraphQL query is valid at compile-time?")]),t._v(" "),a("p",[t._v("Caliban provides a little macro called "),a("code",[t._v("gqldoc")]),t._v(" that can check at "),a("strong",[t._v("compile-time")]),t._v(" that a GraphQL query (a "),a("em",[t._v("document")]),t._v(" to be exact) has valid syntax.")]),t._v(" "),a("div",{staticClass:"language-scala mdoc:silent extra-class"},[a("pre",{pre:!0,attrs:{class:"language-scala"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token namespace"}},[t._v("caliban"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")])]),t._v("Macros"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("gqldoc\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("val")]),t._v(" query "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" gqldoc"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token triple-quoted-string string"}},[t._v('"""\n  query test {\n    amos: character(name: "Amos Burton") {\n      name\n    }\n  }"""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);